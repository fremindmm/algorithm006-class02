### 学习笔记
- 最大误区：做题只做一遍；
- 中心思想：升维：空间换时间；
- 懵逼时怎么办：1、暴力解，2、找最近重复子问题，从最基本情况开始；

总体上，这一周花的时间比较少，对数据结构增删改查的时间、空间复杂度都没有总结。下周将完善这一部分，并运用五毒神掌法多加练习，达到熟练编码的程度。另外，细节上需要熟悉Java中不同数据结构的属性和API，如Array为length属性，而ArrayList为size()方法。
  

### 解题思路、数据结构、算法漫谈
从LeetCode第20题有效的括号说起。本题首先暴力方法是没有的，接下来找**最近重复子问题**。进而发现有效表达式的子表达式（不是所有的）也是有效的。这为问题提供了一种递归结构，于是栈数据结构可以派上用场。栈可以从外部到内部递归地处理。

确定了问题的中间数据结构后，可以写出算法了。
1. 依次处理表达式的每个括号
2. 若遇到左括号，则入栈（可以理解为转到前面的子表达式）；
3. 若遇到右括号，则检查栈顶的元素。若栈顶的元素是对应的左括号，则出栈并继续处理（出栈和检查为一步）。否则，表达式无效。
4. 若最后栈中仍然有元素，则表达式无效。

这里可以建立哈希表来构建左右括号对应关系，在辅助判断入栈还是出栈的同时提供O(1)的时间复杂度来查询括号的对应关系。另外，需要解决边界问题，即栈为空时出栈操作报错。这时可以采取对栈进行初始化，添加一个初始值，这一步将放在算法的最前面。注意添加初始值后，算法最后一步的判断条件变为len(stack) == 1而非栈不为空。(当然也可以不初始化而加一个判断条件)

复杂度分析：
- 时间复杂度O(n)：一遍遍历操作，入栈、出栈、查询均为O(1)；
- 空间复杂度O(n)：哈希表和栈使用线性的空间大小。

```python
class Solution:
    def isValid(self, s: str) -> bool:
        dic = {'{': '}',  '[': ']', '(': ')', '?': '?'}
        stack = ['?']
        for c in s:
            if c in dic: stack.append(c)
            elif dic[stack.pop()] != c: return False 
        return len(stack) == 1
```

ps: 本题也可以不用哈希表，即左括号入栈时添加对应的右括号。